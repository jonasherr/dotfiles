"use strict";var s=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var v=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var w=(e,t)=>{for(var r in t)s(e,r,{get:t[r],enumerable:!0})},I=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let a of g(t))!h.call(e,a)&&a!==r&&s(e,a,{get:()=>t[a],enumerable:!(n=d(t,a))||n.enumerable});return e};var x=e=>I(s({},"__esModule",{value:!0}),e);var p=(e,t,r)=>(v(e,typeof t!="symbol"?t+"":t,r),r);var K={};w(K,{default:()=>y});module.exports=x(K);var b=require("@raycast/api");var m=require("child_process"),f=require("util");var c=(0,f.promisify)(m.exec),u="'/Library/Application Support/org.pqrs/Karabiner-Elements/bin/karabiner_cli'";var i,o=(i=class{constructor(t,r){this.id=t;this.title=r}get active(){return this.title===o.activeInput}async activate(){if((await c(`${u} --select-profile '${this.id}'`)).stdout.split(`
`)[0].startsWith("[error]"))throw new Error(`Karabiner Profile "${this.title}" not found`)}static async getAll(){let[t,r]=await Promise.all([c(`${u} --list-profile-names`),c(`${u} --show-current-profile-name`)]);o.activeInput=r.stdout.split(`
`)[0];let n=t.stdout.split(`
`),a=[];for(let l of n)l.length!==0&&a.push(new i(l,l));return a}},p(i,"activeInput"),i);async function y(){await o.getAll(),await(0,b.updateCommandMetadata)({subtitle:o.activeInput??"\u274C Error"})}
